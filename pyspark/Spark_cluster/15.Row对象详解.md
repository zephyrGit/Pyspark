
1. Row对象代表的是DataFrame中的行，要在行对象Row上访问属性可以直接适用row.key或者row[key]这两种方式

2. Row对象位于pyspark.sql.Row 先来看下它的定义

~~~python
from pyspark.sql import Row

help(Row)
>>> 
Help on class Row in module pyspark.sql.types:

class Row(builtins.tuple)
 |  A row in L{DataFrame}.
 |  The fields in it can be accessed:
 |  
 |  * like attributes (``row.key``)
 |  * like dictionary values (``row[key]``)
 |  
 |  ``key in row`` will search through row keys.
 |  
 |  Row can be used to create a row object by using named arguments,
 |  the fields will be sorted by names. It is not allowed to omit
 |  a named argument to represent the value is None or missing. This should be
 |  explicitly set to None in this case.
 |  
 |  >>> row = Row(name="Alice", age=11)
 |  >>> row
 |  Row(age=11, name='Alice')
 |  >>> row['name'], row['age']
 |  ('Alice', 11)
 |  >>> row.name, row.age
 |  ('Alice', 11)
 |  >>> 'name' in row
 |  True
 ....
~~~

3. 创建Row对象

~~~python
row = Row(name='tom', age=27)
row.name
>>> 'tom'

dir(row)
>>> 
['__add__','__call__','__class__','__contains__','__delattr__','__dict__','__dir__','__doc__','__eq__','__fields__','__format__','__from_dict__','__ge__','__getattr__','__getattribute__','__getitem__','__getnewargs__','__gt__','__hash__','__init__','__init_subclass__','__iter__','__le__','__len__','__lt__','__module__','__mul__','__ne__','__new__','__reduce__','__reduce_ex__','__repr__','__rmul__','__setattr__','__sizeof__','__str__','__subclasshook__','asDict','count','index']
~~~

4. 适用 key in row 来查找某个key在row中是否存在

~~~python
row = Row(name='tom', age=27)
'name' in row
>>> True
'sex' in row
>>> False
~~~

5. 在创建Row对象的时候，可以只指定key，而不指定值，这样会返回一个Row类型的类，适用这个二类可以创建Row对象实例

~~~python
p = Row('tom', 27)
type(p)
>>> pyspark.sql.types.Row
row = p('tom', 27)
row
>>> Row(tom='tom', 27=27)
~~~

6. asDict(recursive=False) 以一个字典的形式返回Row中的内容，recursive表示是否递归，因为Row对象内部还可以有Row对象

~~~python
p = Row('name', 'age')
row = p('tom', 27)
row.asDict()
>>> {'name': 'tom', 'age': 27}

row = Row(key=1, value=Row(score=123, name='tom'))
row.asDict()
>>> {'key': 1, 'value': Row(name='tom', score=123)}
ow.asDict(recursive=True)
>>> {'key': 1, 'value': {'name': 'tom', 'score': 123}}
~~~
